"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
/**
 * Helper class for keeping a handle to a record.
 */
var RecordHandle = /** @class */ (function () {
    function RecordHandle(onSet, onRemove) {
        this.onSet = onSet;
        this.onRemove = onRemove;
    }
    Object.defineProperty(RecordHandle.prototype, "record", {
        get: function () {
            return this._record || null;
        },
        enumerable: true,
        configurable: true
    });
    RecordHandle.prototype.update = function (v) {
        if (this._record === v)
            return;
        if (this._record) {
            this.onRemove(this._record);
        }
        this._record = v || undefined;
        if (v) {
            this.onSet(v);
        }
    };
    return RecordHandle;
}());
exports.RecordHandle = RecordHandle;
//# sourceMappingURL=record-handle.js.map