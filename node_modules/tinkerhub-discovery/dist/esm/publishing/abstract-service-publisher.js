import debug from 'debug';
import { Event } from 'atvik';
/**
 * Abstract base class to simplify implementation of publishers.
 */
export class AbstractServicePublisher {
    constructor(type) {
        this.debug = debug('th:discovery:publisher:' + type);
        this.errorEvent = new Event(this);
    }
    get onError() {
        return this.errorEvent.subscribable;
    }
    /**
     * Log and emit an error for this discovery.
     *
     * @param error
     */
    logAndEmitError(error, message = 'An error occurred:') {
        this.debug(message, error);
        this.errorEvent.emit(error);
    }
}
//# sourceMappingURL=abstract-service-publisher.js.map